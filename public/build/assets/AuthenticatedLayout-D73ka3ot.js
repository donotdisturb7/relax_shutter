import{o as n,c as l,b as e,r as v,n as g,q as B,s as A,j as y,C as w,g as C,B as V,a as u,e as d,G as M,h as m,u as c,i as p,Q as _,F as S,k as z,S as L,t as k,d as b,J as E,f as x,N as P}from"./app-BI7OEea5.js";import{_ as Z}from"./TextInput-Do9Sxgfw.js";function D(o,r){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})])}function N(o,r){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function R(o,r){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function U(o,r){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function F(o,r){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}const q=["src","alt"],H="/images/default-avatar.png",I={__name:"Avatar",props:{user:{type:Object,required:!0},size:{type:String,default:"md"}},setup(o){const r=v(!1),i={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-16 h-16"},a=()=>{r.value=!0};return(h,t)=>(n(),l("img",{src:r.value||!o.user.avatar_path?H:`/storage/${o.user.avatar_path}`,class:g([i[o.size],"rounded-full object-cover"]),alt:o.user.name,onError:a},null,42,q))}},K={class:"relative"},O={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:String,default:"py-1 bg-white dark:bg-gray-700"}},setup(o){const r=o,i=s=>{t.value&&s.key==="Escape"&&(t.value=!1)};B(()=>document.addEventListener("keydown",i)),A(()=>document.removeEventListener("keydown",i));const a=y(()=>({48:"w-48"})[r.width.toString()]),h=y(()=>r.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":r.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top"),t=v(!1);return(s,f)=>(n(),l("div",K,[e("div",{onClick:f[0]||(f[0]=$=>t.value=!t.value)},[w(s.$slots,"trigger")]),C(e("div",{class:"fixed inset-0 z-40",onClick:f[1]||(f[1]=$=>t.value=!1)},null,512),[[V,t.value]]),u(M,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:d(()=>[C(e("div",{class:g(["absolute z-50 mt-2 rounded-md shadow-lg",[a.value,h.value]]),style:{display:"none"},onClick:f[2]||(f[2]=$=>t.value=!1)},[e("div",{class:g(["rounded-md ring-1 ring-black ring-opacity-5",o.contentClasses])},[w(s.$slots,"content")],2)],2),[[V,t.value]])]),_:3})]))}},j={__name:"DropdownLink",props:{href:{type:String,required:!0}},setup(o){return(r,i)=>(n(),m(c(p),{href:o.href,class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:bg-gray-100 dark:focus:bg-gray-800 transition duration-150 ease-in-out"},{default:d(()=>[w(r.$slots,"default")]),_:3},8,["href"]))}},T={class:"w-64 bg-white shadow-lg h-screen fixed left-0 top-0 flex flex-col"},G={class:"flex-1 flex items-center"},J={class:"space-y-2 px-4 w-full"},Q={class:"flex flex-col items-center"},W={class:"px-4 mb-8"},X={__name:"LeftSidebar",setup(o){const r=_().props.auth.user,i=[{label:"Accueil",path:route("home"),icon:R},{label:"Profile",path:route("profile",r.username),icon:F},{label:"Photos",path:route("home"),icon:U},{label:"Paramètres",path:route("home"),icon:N}],a=h=>_().url===h;return(h,t)=>(n(),l("div",T,[t[1]||(t[1]=e("div",{class:"h-20"},null,-1)),e("div",G,[e("nav",J,[(n(),l(S,null,z(i,s=>u(c(p),{key:s.path,href:s.path,class:g(["flex items-center justify-center p-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",{"bg-gray-100 font-semibold":a(s.path)}])},{default:d(()=>[e("div",Q,[(n(),m(L(s.icon),{class:"w-6 h-6 mb-1"})),e("span",null,k(s.label),1)])]),_:2},1032,["href","class"])),64))])]),e("div",W,[u(c(p),{href:h.route("logout"),method:"post",class:"flex flex-col items-center justify-center p-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors"},{default:d(()=>[u(c(D),{class:"w-6 h-6 mb-1"}),t[0]||(t[0]=e("span",null,"Déconnexion",-1))]),_:1},8,["href"])])]))}},Y={class:"w-64 bg-white shadow-lg h-screen fixed right-0 top-0 pt-20"},ee={class:"px-4"},te={key:0,class:"text-gray-500 text-center py-4"},se={class:"space-y-3"},re={class:"font-medium"},oe={class:"text-sm text-gray-500"},ne={__name:"RightSidebar",props:{followings:{type:Array,default:()=>[]}},setup(o){return(r,i)=>(n(),l("div",Y,[e("div",ee,[i[0]||(i[0]=e("h2",{class:"text-xl font-semibold mb-4"},"Personnes suivies",-1)),o.followings.length===0?(n(),l("div",te," Vous ne suivez personne pour le moment ")):b("",!0),e("ul",se,[(n(!0),l(S,null,z(o.followings,a=>(n(),l("li",{key:a.id},[a.username?(n(),m(c(p),{key:0,href:r.route("profile",a.username),class:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg"},{default:d(()=>[u(I,{user:a,size:"md"},null,8,["user"]),e("div",null,[e("div",re,k(a.name),1),e("div",oe,"@"+k(a.username),1)])]),_:2},1032,["href"])):b("",!0)]))),128))])])]))}},ae={class:"min-h-screen bg-gray-100"},le={class:"bg-white border-b border-gray-100 fixed w-full z-10"},ie={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ue={class:"flex items-center justify-between gap-2 h-16"},de={class:"flex mr-2"},ce={class:"shrink-0 flex items-center"},he={class:"hidden sm:flex sm:items-center"},fe={class:"ms-3 relative"},pe={class:"inline-flex rounded-md"},ge={type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 dark:hover:text-gray-300 focus:outline-none transition ease-in-out duration-150"},me={class:"flex items-center"},ve=["src","alt"],we={class:"right-0 mt-2 w-48 rounded-md shadow-lg bg-white z-50"},_e={key:1},xe={class:"flex"},be={__name:"AuthenticatedLayout",props:{followings:{type:Array,default:()=>[]}},setup(o){v(!1);const r=v(_().props.search||""),i=_().props.auth.user,a=y(()=>route().current("profile"));function h(){P.get(route("search",encodeURIComponent(r.value)))}return(t,s)=>(n(),l("div",ae,[e("nav",le,[e("div",ie,[e("div",ue,[e("div",de,[e("div",ce,[u(c(p),{href:t.route("home")},{default:d(()=>s[1]||(s[1]=[e("img",{class:"block h-9 w-auto fill-current text-gray-800",src:"assets/logoRF.png",alt:""},null,-1)])),_:1},8,["href"])])]),u(Z,{modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=f=>r.value=f),placeholder:"Rechercher un utilisateur ou une photo",class:"w-full",onKeyup:E(h,["enter"])},null,8,["modelValue"]),e("div",he,[e("div",fe,[c(i)?(n(),m(O,{key:0},{trigger:d(()=>[e("span",pe,[e("button",ge,[e("div",me,[e("img",{src:t.$page.props.auth.user.avatar_path?`/storage/${t.$page.props.auth.user.avatar_path}`:"/images/default-avatar.png",class:"w-8 h-8 rounded-full object-cover",alt:t.$page.props.auth.user.name},null,8,ve)]),s[2]||(s[2]=e("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])])]),content:d(()=>[e("div",we,[u(j,{href:t.route("profile",{username:c(i).username})},{default:d(()=>s[3]||(s[3]=[x(" Profile ")])),_:1},8,["href"]),u(j,{href:t.route("logout"),method:"post",as:"button"},{default:d(()=>s[4]||(s[4]=[x(" Se deconnecter ")])),_:1},8,["href"])])]),_:1})):(n(),l("div",_e,[u(c(p),{href:t.route("login"),class:""},{default:d(()=>s[5]||(s[5]=[x(" Login ")])),_:1},8,["href"])]))])])])])]),e("div",xe,[u(X),e("main",{class:g({"flex-1 ml-64 mr-64 pt-20":!a.value,"flex-1 ml-64 pt-20":a.value})},[w(t.$slots,"default")],2),a.value?b("",!0):(n(),m(ne,{key:0,followings:o.followings},null,8,["followings"]))])]))}};export{be as _,I as a};
