import{o as p,c as b,b as u,r as _,q as R,K as q,l as O,L as Y,j as M,s as J,p as X,I as F,h as D,e as C,d as S,u as m,i as Z,t as P,n as E,F as N,a as f,f as j,Q as z,G as Me,k as Q,w as Se,x as de,M as De,N as Pe,H as Ae}from"./app-BI7OEea5.js";import{i as pe,a as me,r as ve,b as L,c as je,d as Te,_ as Ee}from"./PostModal-Dr7nl4R9.js";import{o as $,i as Re,a as H,u as W,t as fe,b as V,A as B,l as he,N as K,c as I,w as Ve,d as Oe,e as Be,v as Le,f as ae,_ as ge,O as Fe,Y as Ne,h as oe,G as Ue,r as He,S as Ze}from"./transition-CYIWtLHr.js";import{_ as ze}from"./AuthenticatedLayout-D73ka3ot.js";/* empty css            */import"./TextInput-Do9Sxgfw.js";function Ke(e,a){return p(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{"fill-rule":"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z","clip-rule":"evenodd"})])}function qe(e,a){return p(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{"fill-rule":"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z","clip-rule":"evenodd"})])}function se(e,a){if(e)return e;let l=a??"button";if(typeof l=="string"&&l.toLowerCase()==="button")return"button"}function xe(e,a){let l=_(se(e.value.type,e.value.as));return R(()=>{l.value=se(e.value.type,e.value.as)}),q(()=>{var r;l.value||$(a)&&$(a)instanceof HTMLButtonElement&&!((r=$(a))!=null&&r.hasAttribute("type"))&&(l.value="button")}),l}function re(e){return[e.screenX,e.screenY]}function Qe(){let e=_([-1,-1]);return{wasMoved(a){let l=re(a);return e.value[0]===l[0]&&e.value[1]===l[1]?!1:(e.value=l,!0)},update(a){e.value=re(a)}}}function Ge({container:e,accept:a,walk:l,enabled:r}){q(()=>{let o=e.value;if(!o||r!==void 0&&!r.value)return;let n=Re(e);if(!n)return;let t=Object.assign(i=>a(i),{acceptNode:a}),c=n.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,t,!1);for(;c.nextNode();)l(c.currentNode)})}function We(e){throw new Error("Unexpected object: "+e)}var A=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(A||{});function Ye(e,a){let l=a.resolveItems();if(l.length<=0)return null;let r=a.resolveActiveIndex(),o=r??-1;switch(e.focus){case 0:{for(let n=0;n<l.length;++n)if(!a.resolveDisabled(l[n],n,l))return n;return r}case 1:{o===-1&&(o=l.length);for(let n=o-1;n>=0;--n)if(!a.resolveDisabled(l[n],n,l))return n;return r}case 2:{for(let n=o+1;n<l.length;++n)if(!a.resolveDisabled(l[n],n,l))return n;return r}case 3:{for(let n=l.length-1;n>=0;--n)if(!a.resolveDisabled(l[n],n,l))return n;return r}case 4:{for(let n=0;n<l.length;++n)if(a.resolveId(l[n],n,l)===e.id)return n;return r}case 5:return null;default:We(e)}}var Je=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Je||{});let be=Symbol("DisclosureContext");function ee(e){let a=X(be,null);if(a===null){let l=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,ee),l}return a}let ye=Symbol("DisclosurePanelContext");function Xe(){return X(ye,null)}let te=O({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:a,attrs:l}){let r=_(e.defaultOpen?0:1),o=_(null),n=_(null),t={buttonId:_(`headlessui-disclosure-button-${H()}`),panelId:_(`headlessui-disclosure-panel-${H()}`),disclosureState:r,panel:o,button:n,toggleDisclosure(){r.value=W(r.value,{0:1,1:0})},closeDisclosure(){r.value!==1&&(r.value=1)},close(c){t.closeDisclosure();let i=c?c instanceof HTMLElement?c:c.value instanceof HTMLElement?$(c):$(t.button):$(t.button);i==null||i.focus()}};return Y(be,t),fe(M(()=>W(r.value,{0:V.Open,1:V.Closed}))),()=>{let{defaultOpen:c,...i}=e,g={open:r.value===0,close:t.close};return B({theirProps:i,ourProps:{},slot:g,slots:a,attrs:l,name:"Disclosure"})}}}),ne=O({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:a,slots:l,expose:r}){let o=ee("DisclosureButton"),n=Xe(),t=M(()=>n===null?!1:n.value===o.panelId.value);R(()=>{t.value||e.id!==null&&(o.buttonId.value=e.id)}),J(()=>{t.value||(o.buttonId.value=null)});let c=_(null);r({el:c,$el:c}),t.value||q(()=>{o.button.value=c.value});let i=xe(M(()=>({as:e.as,type:a.type})),c);function g(){var s;e.disabled||(t.value?(o.toggleDisclosure(),(s=$(o.button))==null||s.focus()):o.toggleDisclosure())}function w(s){var v;if(!e.disabled)if(t.value)switch(s.key){case I.Space:case I.Enter:s.preventDefault(),s.stopPropagation(),o.toggleDisclosure(),(v=$(o.button))==null||v.focus();break}else switch(s.key){case I.Space:case I.Enter:s.preventDefault(),s.stopPropagation(),o.toggleDisclosure();break}}function y(s){switch(s.key){case I.Space:s.preventDefault();break}}return()=>{var s;let v={open:o.disclosureState.value===0},{id:d,...h}=e,k=t.value?{ref:c,type:i.value,onClick:g,onKeydown:w}:{id:(s=o.buttonId.value)!=null?s:d,ref:c,type:i.value,"aria-expanded":o.disclosureState.value===0,"aria-controls":o.disclosureState.value===0||$(o.panel)?o.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:g,onKeydown:w,onKeyup:y};return B({ourProps:k,theirProps:h,slot:v,attrs:a,slots:l,name:"DisclosureButton"})}}}),le=O({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:a,slots:l,expose:r}){let o=ee("DisclosurePanel");R(()=>{e.id!==null&&(o.panelId.value=e.id)}),J(()=>{o.panelId.value=null}),r({el:o.panel,$el:o.panel}),Y(ye,o.panelId);let n=he(),t=M(()=>n!==null?(n.value&V.Open)===V.Open:o.disclosureState.value===0);return()=>{var c;let i={open:o.disclosureState.value===0,close:o.close},{id:g,...w}=e,y={id:(c=o.panelId.value)!=null?c:g,ref:o.panel};return B({ourProps:y,theirProps:w,slot:i,attrs:a,slots:l,features:K.RenderStrategy|K.Static,visible:t.value,name:"DisclosurePanel"})}}}),ue=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ie(e){var a,l;let r=(a=e.innerText)!=null?a:"",o=e.cloneNode(!0);if(!(o instanceof HTMLElement))return r;let n=!1;for(let c of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))c.remove(),n=!0;let t=n?(l=o.innerText)!=null?l:"":r;return ue.test(t)&&(t=t.replace(ue,"")),t}function et(e){let a=e.getAttribute("aria-label");if(typeof a=="string")return a.trim();let l=e.getAttribute("aria-labelledby");if(l){let r=l.split(" ").map(o=>{let n=document.getElementById(o);if(n){let t=n.getAttribute("aria-label");return typeof t=="string"?t.trim():ie(n).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return ie(e).trim()}function tt(e){let a=_(""),l=_("");return()=>{let r=$(e);if(!r)return"";let o=r.innerText;if(a.value===o)return l.value;let n=et(r).trim().toLowerCase();return a.value=o,l.value=n,n}}var nt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(nt||{}),lt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(lt||{});function at(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let we=Symbol("MenuContext");function G(e){let a=X(we,null);if(a===null){let l=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,G),l}return a}let ot=O({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:a,attrs:l}){let r=_(1),o=_(null),n=_(null),t=_([]),c=_(""),i=_(null),g=_(1);function w(s=v=>v){let v=i.value!==null?t.value[i.value]:null,d=Fe(s(t.value.slice()),k=>$(k.dataRef.domRef)),h=v?d.indexOf(v):null;return h===-1&&(h=null),{items:d,activeItemIndex:h}}let y={menuState:r,buttonRef:o,itemsRef:n,items:t,searchQuery:c,activeItemIndex:i,activationTrigger:g,closeMenu:()=>{r.value=1,i.value=null},openMenu:()=>r.value=0,goToItem(s,v,d){let h=w(),k=Ye(s===A.Specific?{focus:A.Specific,id:v}:{focus:s},{resolveItems:()=>h.items,resolveActiveIndex:()=>h.activeItemIndex,resolveId:x=>x.id,resolveDisabled:x=>x.dataRef.disabled});c.value="",i.value=k,g.value=d??1,t.value=h.items},search(s){let v=c.value!==""?0:1;c.value+=s.toLowerCase();let d=(i.value!==null?t.value.slice(i.value+v).concat(t.value.slice(0,i.value+v)):t.value).find(k=>k.dataRef.textValue.startsWith(c.value)&&!k.dataRef.disabled),h=d?t.value.indexOf(d):-1;h===-1||h===i.value||(i.value=h,g.value=1)},clearSearch(){c.value=""},registerItem(s,v){let d=w(h=>[...h,{id:s,dataRef:v}]);t.value=d.items,i.value=d.activeItemIndex,g.value=1},unregisterItem(s){let v=w(d=>{let h=d.findIndex(k=>k.id===s);return h!==-1&&d.splice(h,1),d});t.value=v.items,i.value=v.activeItemIndex,g.value=1}};return Ve([o,n],(s,v)=>{var d;y.closeMenu(),Oe(v,Be.Loose)||(s.preventDefault(),(d=$(o))==null||d.focus())},M(()=>r.value===0)),Y(we,y),fe(M(()=>W(r.value,{0:V.Open,1:V.Closed}))),()=>{let s={open:r.value===0,close:y.closeMenu};return B({ourProps:{},theirProps:e,slot:s,slots:a,attrs:l,name:"Menu"})}}}),st=O({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:a,slots:l,expose:r}){var o;let n=(o=e.id)!=null?o:`headlessui-menu-button-${H()}`,t=G("MenuButton");r({el:t.buttonRef,$el:t.buttonRef});function c(y){switch(y.key){case I.Space:case I.Enter:case I.ArrowDown:y.preventDefault(),y.stopPropagation(),t.openMenu(),F(()=>{var s;(s=$(t.itemsRef))==null||s.focus({preventScroll:!0}),t.goToItem(A.First)});break;case I.ArrowUp:y.preventDefault(),y.stopPropagation(),t.openMenu(),F(()=>{var s;(s=$(t.itemsRef))==null||s.focus({preventScroll:!0}),t.goToItem(A.Last)});break}}function i(y){switch(y.key){case I.Space:y.preventDefault();break}}function g(y){e.disabled||(t.menuState.value===0?(t.closeMenu(),F(()=>{var s;return(s=$(t.buttonRef))==null?void 0:s.focus({preventScroll:!0})})):(y.preventDefault(),t.openMenu(),at(()=>{var s;return(s=$(t.itemsRef))==null?void 0:s.focus({preventScroll:!0})})))}let w=xe(M(()=>({as:e.as,type:a.type})),t.buttonRef);return()=>{var y;let s={open:t.menuState.value===0},{...v}=e,d={ref:t.buttonRef,id:n,type:w.value,"aria-haspopup":"menu","aria-controls":(y=$(t.itemsRef))==null?void 0:y.id,"aria-expanded":t.menuState.value===0,onKeydown:c,onKeyup:i,onClick:g};return B({ourProps:d,theirProps:v,slot:s,attrs:a,slots:l,name:"MenuButton"})}}}),rt=O({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:a,slots:l,expose:r}){var o;let n=(o=e.id)!=null?o:`headlessui-menu-items-${H()}`,t=G("MenuItems"),c=_(null);r({el:t.itemsRef,$el:t.itemsRef}),Ge({container:M(()=>$(t.itemsRef)),enabled:M(()=>t.menuState.value===0),accept(s){return s.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:s.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(s){s.setAttribute("role","none")}});function i(s){var v;switch(c.value&&clearTimeout(c.value),s.key){case I.Space:if(t.searchQuery.value!=="")return s.preventDefault(),s.stopPropagation(),t.search(s.key);case I.Enter:if(s.preventDefault(),s.stopPropagation(),t.activeItemIndex.value!==null){let d=t.items.value[t.activeItemIndex.value];(v=$(d.dataRef.domRef))==null||v.click()}t.closeMenu(),ge($(t.buttonRef));break;case I.ArrowDown:return s.preventDefault(),s.stopPropagation(),t.goToItem(A.Next);case I.ArrowUp:return s.preventDefault(),s.stopPropagation(),t.goToItem(A.Previous);case I.Home:case I.PageUp:return s.preventDefault(),s.stopPropagation(),t.goToItem(A.First);case I.End:case I.PageDown:return s.preventDefault(),s.stopPropagation(),t.goToItem(A.Last);case I.Escape:s.preventDefault(),s.stopPropagation(),t.closeMenu(),F(()=>{var d;return(d=$(t.buttonRef))==null?void 0:d.focus({preventScroll:!0})});break;case I.Tab:s.preventDefault(),s.stopPropagation(),t.closeMenu(),F(()=>Le($(t.buttonRef),s.shiftKey?ae.Previous:ae.Next));break;default:s.key.length===1&&(t.search(s.key),c.value=setTimeout(()=>t.clearSearch(),350));break}}function g(s){switch(s.key){case I.Space:s.preventDefault();break}}let w=he(),y=M(()=>w!==null?(w.value&V.Open)===V.Open:t.menuState.value===0);return()=>{var s,v;let d={open:t.menuState.value===0},{...h}=e,k={"aria-activedescendant":t.activeItemIndex.value===null||(s=t.items.value[t.activeItemIndex.value])==null?void 0:s.id,"aria-labelledby":(v=$(t.buttonRef))==null?void 0:v.id,id:n,onKeydown:i,onKeyup:g,role:"menu",tabIndex:0,ref:t.itemsRef};return B({ourProps:k,theirProps:h,slot:d,attrs:a,slots:l,features:K.RenderStrategy|K.Static,visible:y.value,name:"MenuItems"})}}}),U=O({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:a,attrs:l,expose:r}){var o;let n=(o=e.id)!=null?o:`headlessui-menu-item-${H()}`,t=G("MenuItem"),c=_(null);r({el:c,$el:c});let i=M(()=>t.activeItemIndex.value!==null?t.items.value[t.activeItemIndex.value].id===n:!1),g=tt(c),w=M(()=>({disabled:e.disabled,get textValue(){return g()},domRef:c}));R(()=>t.registerItem(n,w)),J(()=>t.unregisterItem(n)),q(()=>{t.menuState.value===0&&i.value&&t.activationTrigger.value!==0&&F(()=>{var x,T;return(T=(x=$(c))==null?void 0:x.scrollIntoView)==null?void 0:T.call(x,{block:"nearest"})})});function y(x){if(e.disabled)return x.preventDefault();t.closeMenu(),ge($(t.buttonRef))}function s(){if(e.disabled)return t.goToItem(A.Nothing);t.goToItem(A.Specific,n)}let v=Qe();function d(x){v.update(x)}function h(x){v.wasMoved(x)&&(e.disabled||i.value||t.goToItem(A.Specific,n,0))}function k(x){v.wasMoved(x)&&(e.disabled||i.value&&t.goToItem(A.Nothing))}return()=>{let{disabled:x,...T}=e,Ie={active:i.value,disabled:x,close:t.closeMenu};return B({ourProps:{id:n,ref:c,role:"menuitem",tabIndex:x===!0?void 0:-1,"aria-disabled":x===!0?!0:void 0,onClick:y,onFocus:s,onPointerenter:d,onMouseenter:d,onPointermove:h,onMousemove:h,onPointerleave:k,onMouseleave:k},theirProps:{...l,...T},slot:Ie,attrs:l,slots:a,name:"MenuItem"})}}});function ut(e,a){return p(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})])}function it(e,a){return p(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})])}function ct(e,a){return p(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})])}function dt(e,a){return p(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})])}function _e(e,a){return p(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"})])}function ke(e,a){return p(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})])}const pt={key:0,class:"bg-nal dark:bg-slate-900 dark:text-gray-100 transition-all border-2 border-transparent hover:border-indigo-500"},mt={class:"flex items-center gap-2 py-2 px-2"},vt=["src"],ft={class:"flex justify-between flex-1"},ht={class:"font-black hover:underline"},gt={__name:"UserListItem",props:{user:{type:Object,required:!0}},setup(e){const a=e,l=M(()=>(console.log("User prop:",a.user),a.user!==void 0&&a.user!==null));return(r,o)=>l.value?(p(),b("div",pt,[u("div",mt,[e.user.username?(p(),D(m(Z),{key:0,href:r.route("profile",e.user.username)},{default:C(()=>[e.user.avatar_url?(p(),b("img",{key:0,src:e.user.avatar_url,class:"w-[32px] rounded-full",alt:"User avatar"},null,8,vt)):S("",!0)]),_:1},8,["href"])):S("",!0),u("div",ft,[e.user.username?(p(),D(m(Z),{key:0,href:r.route("profile",e.user.username)},{default:C(()=>[u("h3",ht,P(e.user.name),1)]),_:1},8,["href"])):S("",!0)])])])):S("",!0)}},xt=["innerHTML"],bt=["innerHTML"],yt={class:"flex justify-end"},Ce={__name:"ReadMoreReadLess",props:{content:String,contentClass:String},setup(e){return(a,l)=>(p(),D(m(te),null,{default:C(({open:r})=>[r?S("",!0):(p(),b("div",{key:0,class:E(["ck-content-output",e.contentClass]),innerHTML:e.content.substring(0,200)},null,10,xt)),e.content&&e.content.length>200?(p(),b(N,{key:1},[f(m(le),null,{default:C(()=>[u("div",{class:E(["ck-content-output",e.contentClass]),innerHTML:e.content},null,10,bt)]),_:1}),u("div",yt,[f(m(ne),{class:"text-blue-500 hover:underline"},{default:C(()=>[j(P(r?"Read less":"Read More"),1)]),_:2},1024)])],64)):S("",!0)]),_:1}))}};function wt(e,a){return p(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{d:"M10 3a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM10 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM11.5 15.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"})])}function _t(e,a){return p(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"}),u("path",{"fill-rule":"evenodd",d:"M.664 10.59a1.651 1.651 0 0 1 0-1.186A10.004 10.004 0 0 1 10 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0 1 10 17c-4.257 0-7.893-2.66-9.336-6.41ZM14 10a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z","clip-rule":"evenodd"})])}function kt(e,a){return p(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{d:"m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"})])}function Ct(e,a){return p(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{"fill-rule":"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z","clip-rule":"evenodd"})])}const $t={class:"px-1 py-1"},$e={__name:"EditDeleteDropdown",props:{post:{type:Object,default:null},comment:{type:Object,default:null}},emits:["edit","delete","pin"],setup(e){const a=e,l=z().props.auth.user||{},r=M(()=>{var c,i;return((c=a.comment)==null?void 0:c.user)||((i=a.post)==null?void 0:i.user)}),o=M(()=>r.value.id===l.id),n=M(()=>{var c;return r.value.id===l.id||a.post.user.id===l.id?!0:!a.comment&&((c=a.post.group)==null?void 0:c.role)==="admin"});function t(){const c=route("post.view",a.post.id),i=document.createElement("input");i.value=c,document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i)}return(c,i)=>(p(),D(m(ot),{as:"div",class:"relative inline-block text-left"},{default:C(()=>[u("div",null,[f(m(st),{class:"w-8 h-8 z-10 rounded-full hover:bg-black/5 transition flex items-center justify-center"},{default:C(()=>[f(m(wt),{class:"w-5 h-5","aria-hidden":"true"})]),_:1})]),f(Me,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:C(()=>[m(l)?(p(),D(m(rt),{key:0,class:"absolute z-20 right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none"},{default:C(()=>[u("div",$t,[f(m(U),null,{default:C(({active:g})=>[f(m(Z),{href:c.route("post.view",e.post.id),class:E([g?"bg-indigo-500 text-white":"text-gray-900","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:C(()=>[f(m(_t),{class:"mr-2 h-5 w-5","aria-hidden":"true"}),i[3]||(i[3]=j(" Ouvrir la publication "))]),_:2},1032,["href","class"])]),_:1}),f(m(U),null,{default:C(({active:g})=>[u("button",{onClick:t,class:E([g?"bg-indigo-500 text-white":"text-gray-900","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[f(m(dt),{class:"mr-2 h-5 w-5","aria-hidden":"true"}),i[4]||(i[4]=j(" Copier le lien de la publication "))],2)]),_:1}),c.pinAllowed?(p(),D(m(U),{key:0},{default:C(({active:g})=>[u("button",{onClick:i[0]||(i[0]=w=>c.$emit("pin")),class:E([g?"bg-indigo-500 text-white":"text-gray-900","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[f(m(ke),{class:"mr-2 h-5 w-5","aria-hidden":"true"}),j(" "+P(c.isPinned?"Unpin":"Pin"),1)],2)]),_:1})):S("",!0),o.value?(p(),D(m(U),{key:1},{default:C(({active:g})=>[u("button",{onClick:i[1]||(i[1]=w=>c.$emit("edit")),class:E([g?"bg-indigo-500 text-white":"text-gray-900","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[f(m(kt),{class:"mr-2 h-5 w-5","aria-hidden":"true"}),i[5]||(i[5]=j(" Modifier "))],2)]),_:1})):S("",!0),n.value?(p(),D(m(U),{key:2},{default:C(({active:g})=>[u("button",{onClick:i[2]||(i[2]=w=>c.$emit("delete")),class:E([g?"bg-indigo-500 text-white":"text-gray-900","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[f(m(Ct),{class:"mr-2 h-5 w-5","aria-hidden":"true"}),i[6]||(i[6]=j(" Supprimer "))],2)]),_:1})):S("",!0)])]),_:1})):S("",!0)]),_:1})]),_:1}))}},It=["onClick"],Mt={key:0,class:"absolute left-0 top-0 right-0 bottom-0 z-10 bg-black/60 text-white flex items-center justify-center text-2xl"},St=["href"],Dt=["src"],Pt={key:2,class:"relative flex justify-center items-center"},At=["src"],jt={key:3,class:"flex flex-col justify-center items-center"},Tt={__name:"PostAttachments",props:{attachments:Array},emits:["attachmentClick"],setup(e){return(a,l)=>(p(!0),b(N,null,Q(e.attachments.slice(0,4),(r,o)=>(p(),b("div",{onClick:n=>a.$emit("attachmentClick",o),class:"group aspect-square bg-blue-100 flex flex-col items-center justify-center text-gray-500 relative cursor-pointer"},[o===3&&e.attachments.length>4?(p(),b("div",Mt," +"+P(e.attachments.length-4)+" more ",1)):S("",!0),u("a",{onClick:l[0]||(l[0]=Se(()=>{},["stop"])),href:a.route("post.download",r),class:"z-20 opacity-0 group-hover:opacity-100 transition-all w-8 h-8 flex items-center justify-center text-gray-100 bg-gray-700 rounded absolute right-2 top-2 cursor-pointer hover:bg-gray-800"},[f(m(ut),{class:"w-4 h-4"})],8,St),m(pe)(r)?(p(),b("img",{key:1,src:r.url,class:"object-contain aspect-square"},null,8,Dt)):m(me)(r)?(p(),b("div",Pt,[l[1]||(l[1]=u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"z-20 absolute w-16 h-16 text-gray-800 text-white opacity-70"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.91 11.672a.375.375 0 010 .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z"})],-1)),l[2]||(l[2]=u("div",{class:"absolute left-0 top-0 w-full h-full bg-black/50 z-10"},null,-1)),u("video",{src:r.url},null,8,At)])):(p(),b("div",jt,[f(m(ve),{class:"w-10 h-10 mb-3"}),u("small",null,P(r.name),1)]))],8,It))),256))}},Et=["value","placeholder"],ce={__name:"InputTextarea",props:{modelValue:{type:String,required:!1},placeholder:String,autoResize:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(e,{expose:a,emit:l}){const r=e,o=l,n=_(null);R(()=>{n.value.hasAttribute("autofocus")&&n.value.focus()}),de(()=>r.modelValue,()=>{console.log("Changed"),setTimeout(()=>{c()},10)}),a({focus:()=>n.value.focus()});function t(i){o("update:modelValue",i.target.value)}function c(){r.autoResize&&(n.value.style.height="auto",n.value.style.height=n.value.scrollHeight+1+"px")}return R(()=>{c()}),(i,g)=>(p(),b("textarea",{class:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",value:e.modelValue,onInput:t,ref_key:"input",ref:n,placeholder:e.placeholder},null,40,Et))}},Rt={key:0,class:"flex gap-2 mb-3"},Vt=["src"],Ot={class:"flex flex-1"},Bt={class:"flex justify-between gap-2"},Lt={class:"flex gap-2"},Ft={href:"javascript:void(0)"},Nt=["src"],Ut={class:"font-bold"},Ht={href:"javascript:void(0)",class:"hover:underline"},Zt={class:"text-xs text-gray-400"},zt={class:"pl-12"},Kt={key:0},qt={class:"flex gap-2 justify-end"},Qt={class:"mt-1 flex gap-2"},Gt=["onClick"],Wt={class:"mr-2"},Yt={class:"mr-2"},Jt={key:0,class:"py-4 text-center dark:text-gray-100"},Xt={__name:"CommentList",props:{post:Object,data:Object,parentComment:{type:[Object,null],default:null}},emits:["commentCreate","commentDelete"],setup(e,{emit:a}){const l=z().props.auth.user,r=_(""),o=_(null),n=e,t=a;function c(d){console.log(d),o.value={id:d.id,comment:d.comment.replace(/<br\s*\/?>/gi,`
`)}}function i(){var d;L.post(route("post.comment.create",n.post),{comment:r.value,parent_id:((d=n.parentComment)==null?void 0:d.id)||null}).then(({data:h})=>{r.value="",n.data.comments.unshift(h),n.parentComment&&n.parentComment.num_of_comments++,n.post.num_of_comments++,t("commentCreate",h)})}function g(d){if(!window.confirm("Are you sure you want to delete this comment?"))return!1;L.delete(route("comment.delete",d.id)).then(({data:h})=>{const k=n.data.comments.findIndex(x=>x.id===d.id);n.data.comments.splice(k,1),console.log(n.data.comments),n.parentComment&&(n.parentComment.num_of_comments-=h.deleted),n.post.num_of_comments-=h.deleted,t("commentDelete",d)})}function w(){L.put(route("comment.update",o.value.id),o.value).then(({data:d})=>{o.value=null,n.data.comments=n.data.comments.map(h=>h.id===d.id?d:h)})}function y(d){L.post(route("comment.reaction",d.id),{reaction:"like"}).then(({data:h})=>{d.current_user_has_reaction=h.current_user_has_reaction,d.num_of_reactions=h.num_of_reactions})}function s(d){n.parentComment&&n.parentComment.num_of_comments++,t("commentCreate",d)}function v(d){n.parentComment&&n.parentComment.num_of_comments--,t("commentDelete",d)}return(d,h)=>{const k=De("CommentList",!0);return p(),b(N,null,[m(l)?(p(),b("div",Rt,[f(m(Z),{href:d.route("profile",m(l).username)},{default:C(()=>[u("img",{src:m(l).avatar_url,class:"w-[40px] rounded-full border border-2 transition-all hover:border-blue-500"},null,8,Vt)]),_:1},8,["href"]),u("div",Ot,[f(ce,{modelValue:r.value,"onUpdate:modelValue":h[0]||(h[0]=x=>r.value=x),placeholder:"Enter your comment here",rows:"1",class:"w-full max-h-[160px] resize-none rounded-r-none"},null,8,["modelValue"]),u("button",{onClick:i,class:"rounded-l-none w-[100px]"},"Submit")])])):S("",!0),u("div",null,[(p(!0),b(N,null,Q(e.data.comments,x=>(p(),b("div",{key:x.id,class:"mb-4"},[u("div",Bt,[u("div",Lt,[u("a",Ft,[u("img",{src:x.user.avatar_url,class:"w-[40px] rounded-full border border-2 transition-all hover:border-blue-500"},null,8,Nt)]),u("div",null,[u("h4",Ut,[u("a",Ht,P(x.user.name),1)]),u("small",Zt,P(x.updated_at),1)])]),f($e,{user:x.user,post:e.post,comment:x,onEdit:T=>c(x),onDelete:T=>g(x)},null,8,["user","post","comment","onEdit","onDelete"])]),u("div",zt,[o.value&&o.value.id===x.id?(p(),b("div",Kt,[f(ce,{modelValue:o.value.comment,"onUpdate:modelValue":T=>o.value.comment=T,placeholder:"Enter your comment here",rows:"1",class:"w-full max-h-[160px] resize-none"},null,8,["modelValue","onUpdate:modelValue"]),u("div",qt,[u("button",{onClick:h[1]||(h[1]=T=>o.value=null),class:"rounded-r-none text-indigo-500"},"cancel "),u("button",{onClick:w,class:"w-[100px]"},"update ")])])):(p(),D(Ce,{key:1,content:x.comment,"content-class":"text-sm flex flex-1"},null,8,["content"])),f(m(te),null,{default:C(()=>[u("div",Qt,[u("button",{onClick:T=>y(x),class:E(["flex items-center text-xs text-indigo-500 py-0.5 px-1 rounded-lg",[x.current_user_has_reaction?"bg-indigo-50 hover:bg-indigo-100":"hover:bg-indigo-50"]])},[f(m(_e),{class:"w-3 h-3 mr-1"}),u("span",Wt,P(x.num_of_reactions),1),j(" "+P(x.current_user_has_reaction?"unlike":"like"),1)],10,Gt),f(m(ne),{class:"flex items-center text-xs text-indigo-500 py-0.5 px-1 hover:bg-indigo-100 rounded-lg"},{default:C(()=>[f(m(it),{class:"w-3 h-3 mr-1"}),u("span",Yt,P(x.num_of_comments),1),h[2]||(h[2]=j(" comments "))]),_:2},1024)]),f(m(le),{class:"mt-3"},{default:C(()=>[f(k,{post:e.post,data:{comments:x.comments},"parent-comment":x,onCommentCreate:s,onCommentDelete:v},null,8,["post","data","parent-comment"])]),_:2},1024)]),_:2},1024)])]))),128)),e.data.comments.length?S("",!0):(p(),b("div",Jt," Il n'y a pas encore de commentaires "))])],64)}}},en={class:"bg-white border dark:bg-slate-950 dark:border-slate-900 dark:text-gray-100 rounded p-4 mb-3"},tn={class:"flex items-center justify-between mb-3"},nn={class:"flex items-center gap-2"},ln={key:0,class:"flex items-center text-xs"},an={class:"mb-3"},on={class:"flex gap-2"},sn={class:"mr-2"},rn={class:"mr-2"},un={__name:"PostItem",props:{post:Object},emits:["editClick","attachmentClick"],setup(e,{emit:a}){const l=e,r=a,o=M(()=>l.post.body.replace(/(?:(\s+)|<p>)((#\w+)(?![^<]*<\/a>))/g,(w,y,s)=>{const v=encodeURIComponent(s);return`${y||""}<a href="/search/${v}" class="hashtag">${s}</a>`}));function n(){r("editClick",l.post)}function t(){window.confirm("Are you sure you want to delete this post?")&&Pe.delete(route("post.destroy",l.post),{preserveScroll:!0})}function c(g){r("attachmentClick",l.post,g)}function i(){L.post(route("post.reaction",l.post),{reaction:"like"}).then(({data:g})=>{l.post.current_user_has_reaction=g.current_user_has_reaction,l.post.num_of_reactions=g.num_of_reactions})}return(g,w)=>(p(),b("div",en,[u("div",tn,[f(je,{post:e.post},null,8,["post"]),u("div",nn,[g.isPinned?(p(),b("div",ln,[f(m(ke),{class:"h-3 w-3","aria-hidden":"true"}),w[0]||(w[0]=j(" pinned "))])):S("",!0),f($e,{user:e.post.user,post:e.post,onEdit:n,onDelete:t,onPin:g.pinUnpinPost},null,8,["user","post","onPin"])])]),u("div",an,[f(Ce,{content:o.value},null,8,["content"]),f(Te,{preview:e.post.preview,url:e.post.preview_url},null,8,["preview","url"])]),u("div",{class:E(["grid gap-3 mb-3",[e.post.attachments.length===1?"grid-cols-1":"grid-cols-2"]])},[f(Tt,{attachments:e.post.attachments,onAttachmentClick:c},null,8,["attachments"])],2),f(m(te),null,{default:C(({open:y})=>[u("div",on,[u("button",{onClick:i,class:E(["text-gray-800 dark:text-gray-100 flex gap-1 items-center justify-center rounded-lg py-2 px-4 flex-1",[e.post.current_user_has_reaction?"bg-sky-100 dark:bg-sky-900 hover:bg-sky-200 dark:hover:bg-sky-950":"bg-gray-100 dark:bg-slate-800 dark:bg-slate-900 dark:hover:bg-slate-800 "]])},[f(m(_e),{class:"w-5 h-5"}),u("span",sn,P(e.post.num_of_reactions),1),j(" "+P(e.post.current_user_has_reaction?"Unlike":"Like"),1)],2),f(m(ne),{class:"text-gray-800 dark:text-gray-100 flex gap-1 items-center justify-center bg-gray-100 dark:bg-slate-900 dark:hover:bg-slate-800 rounded-lg hover:bg-gray-200 py-2 px-4 flex-1"},{default:C(()=>[f(m(ct),{class:"w-5 h-5"}),u("span",rn,P(e.post.num_of_comments),1),w[1]||(w[1]=j(" Commenter "))]),_:1})]),f(m(le),{class:"comment-list mt-3 max-h-[400px] overflow-auto"},{default:C(()=>[f(Xt,{post:e.post,data:{comments:e.post.comments}},null,8,["post","data"])]),_:1})]),_:1})]))}},cn={class:"fixed inset-0 overflow-y-auto"},dn={class:"h-screen w-screen"},pn={class:"relative group h-full"},mn={class:"flex items-center justify-center w-full h-full p-3"},vn=["src"],fn={key:1,class:"flex items-center"},hn=["src"],gn={key:2,class:"p-32 flex flex-col justify-center items-center text-gray-100"},xn={__name:"AttachmentPreviewModal",props:{attachments:{type:Array,required:!0},index:Number,modelValue:Boolean},emits:["update:modelValue","update:index","hide"],setup(e,{emit:a}){const l=e,r=M({get:()=>l.modelValue,set:w=>t("update:modelValue",w)}),o=M({get:()=>l.index,set:w=>t("update:index",w)}),n=M(()=>l.attachments[o.value]),t=a;function c(){r.value=!1,t("hide")}function i(){o.value!==0&&o.value--}function g(){o.value!==l.attachments.length-1&&o.value++}return(w,y)=>(p(),D(Ae,{to:"body"},[f(m(Ze),{appear:"",show:r.value,as:"template"},{default:C(()=>[f(m(Ne),{as:"div",onClose:c,class:"relative z-50"},{default:C(()=>[f(m(oe),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:C(()=>y[0]||(y[0]=[u("div",{class:"fixed inset-0 bg-black/25"},null,-1)])),_:1}),u("div",cn,[u("div",dn,[f(m(oe),{as:"template",class:"w-full h-full",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:C(()=>[f(m(Ue),{class:"flex flex-col w-full transform overflow-hidden bg-slate-800 text-left align-middle shadow-xl transition-all"},{default:C(()=>[u("button",{onClick:c,class:"absolute right-3 top-3 z-30 w-10 h-10 rounded-full hover:bg-black/10 transition flex items-center justify-center text-gray-100 z-40"},[f(m(He),{class:"w-6 h-6"})]),u("div",pn,[u("div",{onClick:i,class:"absolute opacity-0 group-hover:opacity-100 text-gray-100 cursor-pointer flex items-center w-12 h-full left-0 z-30"},[f(m(Ke),{class:"w-12"})]),u("div",{onClick:g,class:"absolute opacity-0 group-hover:opacity-100 text-gray-100 cursor-pointer flex items-center w-12 h-full right-0 z-30"},[f(m(qe),{class:"w-12"})]),u("div",mn,[m(pe)(n.value)?(p(),b("img",{key:0,src:n.value.url,class:"max-w-full max-h-full"},null,8,vn)):m(me)(n.value)?(p(),b("div",fn,[u("video",{src:n.value.url,controls:"",autoplay:""},null,8,hn)])):(p(),b("div",gn,[f(m(ve),{class:"w-10 h-10 mb-3"}),u("small",null,P(n.value.name),1)]))])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])]))}},bn={class:"overflow-auto"},yn={__name:"PostList",setup(e){const a=z(),l=z().props.auth.user,r=_(!1),o=_(!1),n=_({}),t=_({}),c=_(null),i=_({data:[],next:null});de(()=>a.props.posts,()=>{var v;a.props.posts&&(i.value={data:a.props.posts.data,next:(v=a.props.posts.links)==null?void 0:v.next})},{deep:!0,immediate:!0});function g(v){n.value=v,r.value=!0}function w(v,d){t.value={post:v,index:d},o.value=!0}function y(){n.value={id:null,body:"",user:l}}function s(){i.value.next&&L.get(i.value.next).then(({data:v})=>{i.value.data=[...i.value.data,...v.data],i.value.next=v.links.next})}return R(()=>{new IntersectionObserver(d=>d.forEach(h=>h.isIntersecting&&s()),{rootMargin:"-250px 0px 0px 0px"}).observe(c.value)}),(v,d)=>{var h;return p(),b("div",bn,[(p(!0),b(N,null,Q(i.value.data,k=>(p(),D(un,{key:k.id,post:k,onEditClick:g,onAttachmentClick:w},null,8,["post"]))),128)),u("div",{ref_key:"loadMoreIntersect",ref:c},null,512),f(Ee,{post:n.value,modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=k=>r.value=k),onHide:y},null,8,["post","modelValue"]),f(xn,{attachments:((h=t.value.post)==null?void 0:h.attachments)||[],index:t.value.index,"onUpdate:index":d[1]||(d[1]=k=>t.value.index=k),modelValue:o.value,"onUpdate:modelValue":d[2]||(d[2]=k=>o.value=k)},null,8,["attachments","index","modelValue"])])}}},wn={class:"p-4"},_n={key:0,class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},kn={class:"shadow bg-white p-3 rounded mb-3"},Cn={class:"grid-cols-2"},$n={key:1,class:"py-8 text-center text-gray-500"},In={key:1,class:"py-8 text-center text-gray-500"},Tn={__name:"SearchPage",props:{search:String,users:Object,posts:Object},setup(e){const a=e,l=_([]);return R(()=>{console.log("Users prop:",a.users),a.users&&a.users.data&&(l.value=a.users.data,console.log("Processed user list:",l.value))}),(r,o)=>(p(),D(ze,null,{default:C(()=>[u("div",wn,[e.search.startsWith("#")?S("",!0):(p(),b("div",_n,[u("div",kn,[o[0]||(o[0]=u("h2",{class:"text-lg font-bold"},"Utilisateurs",-1)),u("div",Cn,[l.value.length?(p(!0),b(N,{key:0},Q(l.value,n=>(p(),D(gt,{key:n.id,user:n},null,8,["user"]))),128)):(p(),b("div",$n," Aucun utilisateur trouvé. "))])])])),u("div",null,[o[1]||(o[1]=u("h2",{class:"text-lg font-bold"},"Publications",-1)),e.posts&&e.posts.data&&e.posts.data.length?(p(),D(yn,{key:0,posts:e.posts.data,class:"flex-1"},null,8,["posts"])):(p(),b("div",In," Aucune publication trouvée. "))])])]),_:1}))}};export{Tn as default};
